The code prepared for this project has gone through several rounds of debugging and updates, but the scrapers still require some knowledge of R and some attention to country-specific particularities in order to run properly. The notes below suggest how the code might be improved, in big or in small ways.

# IMPROVEMENTS

1. __Most calls to `read.csv` and `write.csv` might be handled through the [`readr`](https://cran.r-project.org/web/packages/readr/) package__, in order to speed up input/output during code execution. The current version of `readr`, however, can garble dates, and row names (which are used during network construction) are explicitly forbidden by the `data_frame` class.
* __Most calls to the `XML` package might be handled through (or rewritten for) the [`rvest`](https://cran.r-project.org/web/packages/rvest/) package__, in order to make the code easier to read. In my experience, this is possible but highly tricky to do, especially when converting complex XPath statements to CSSSelect ones.
* __The networks could be first built as bill-sponsor bipartite graphs__, and then collapsed to one-mode cosponsorship networks. This would require using [sparse matrixes](http://solomonmessing.wordpress.com/2012/09/30/working-with-bipartiteaffiliation-network-data-in-r/) and only slightly different visualisation code. The bills, however, have very little attributes of their own, because very few chambers provide legislative keywords and/or outcome information.
* __The code could be greatly accelerated by switching to Python scrapers and SQL databases__, although that would obviously require starting again from scratch. Similarly, adjacency matrixes are probably faster than edge lists as network constructors, but are less practical for inspection and debugging purposes.
* __Some aspects of the code could be further standardised__, in particular: the organisation of the `raw` data folders, links to constituencies, sponsor profiles and photos, and network attributes that describe the country, chamber and legislature. These are all neatly organised in the current code, but not perfectly standardised.
* __Additional official open data portals could be put to use__ to retrieve bill or sponsor details. These portals are already used in the code for the [French Senate](https://github.com/briatte/parlement),  [Norway](https://github.com/briatte/stortinget),  [Sweden](https://github.com/briatte/riksdag) and [Switzerland](https://github.com/briatte/swparl), but similar services for [Austria](https://www.data.gv.at/), the [French National Assembly](http://data.assemblee-nationale.fr/) and the [Italian lower chamber](http://data.camera.it/) are not.

# LIMITATIONS

1. __There is no self-updating mechanism: the data have to be refreshed manually__, because self-updating the code would probably require recoding all scrapers in Python so that they might be run periodically through [ScraperWiki](https://scraperwiki.com/). It would improve data collection for ongoing legislatures only, and would still require manual updates after website upgrades.
* __Some repositories rely on manual inputs during data collection__. This primarily concerns the code for [Italy](https://github.com/briatte/parlamento), which has to be run through a VPN to avoid getting the IP banned from visiting the website of the Italian Senate. The code for [Finland](https://github.com/briatte/eduskunta) requires editing a URL parameter, and the code for [Hungary](https://github.com/briatte/orszaggyules) requires downloading a few bill indexes by hand.
* __Network errors in the download loops require to rerun some of the scripts:__ rerunning the `data.r` scripts two or three times is therefore highly recommended. Some (but not all) scripts contain exception lists to skip over the little amount of errors that might have occurred, but some errors are permanent HTTP 404's and cannot be solved.
* __Some variables are based on manual or semi-manual imputations:__ the `sex` variable is often based on imputation from first names, family names, or both; and the `party` variable is often based on manual recodings or on the "longest affiliation throughout legislature" rule. These limitations are fully documented in the `README` files of each repository.
* __Some variables have many missing or unstandardised values:__ this issue affects the `born` variable, which occasionally has high missing counts in upper houses and is completely missing in [Hungary](https://github.com/briatte/orszaggyules); the `constituency` variable, which is for instance missing in pre-redistricted [Sweden](https://github.com/briatte/riksdag); and the `committee` variable, which cannot be perfectly standardised across countries because of differing parliamentary practices in committee formation.
